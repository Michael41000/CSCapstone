{% extends "body.html" %}

{% block content %}

	<!-- Content -->
	<div class="container theme-showcase" role="main">
		<div class="jumbotron">
			<h1>{{ group.name }}</h1>
			<p>{{ group.description }}</p>
			{% if user.is_student %}
				{% if userIsMember %}
				<a href="/group/unjoin?name={{ group.name }}" class="btn btn-default">Unjoin this Group</a>

				<form method="post" action="/group/joinUser?name={{ group.name }}" class="panel-body validate">
					{% csrf_token %}
					<label for="email">Enroll A Student</label>
					<h6 style="color:red">{{ error }}</h6>
					<input type="text" name="email" id="email" placeholder="Email" class="form-control" data-bvalidator="required" data-bvalidator-msg="Email Required">
					<br>
					<input type="submit" value="Submit" class="btn btn-primary">
				</form>

				{% else %}
				<a href="/group/join?name={{ group.name }}" class="btn btn-default">Join this Group</a>
				{% endif %}
			{% endif %}
		</div>
	</div>
	
	<div class="container">
		<div class="table-responsive">
			<table class="table table-striped sortable">
				<thead>
					<tr>
						<th>Users</th>
						<th>Email</th>
						<th>Years of Experience</th>
						<th>Programming Languages</th>
						<th>Specialties</th>
					</tr>
				</thead>
				<tbody>
					{% for item in group.members.all %}
					<tr>
						<td>{{ item.get_full_name }}</td>
						<td>{{ item.email }}</td>
						<td>{{ item.student.get_yearsXP }}</td>
						<td>{{ item.student.get_languages }}</td>
						<td>{{ item.student.get_specialties }}</td>
						
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>

{% endblock %}
